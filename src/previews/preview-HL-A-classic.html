<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>SLAP! — Preview HL-A: Classic Review (Highlight System)</title>
<style>
/* ── Reset ─────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ── Design Tokens ─────────────────────────────────────── */
:root {
  --bg: #0D0D1A;
  --accent: #FFD000;
  --text: #F5F0E1;
  --text-dim: rgba(245, 240, 225, 0.45);
  --surface: #16162A;
  --surface-raised: #1E1E38;
  --border: rgba(245, 240, 225, 0.10);
  --font: 'Courier New', monospace;
  --bezel: 8px;
  --chin-h: 56px;
  --radius: 10px;
  --dim-overlay: rgba(0, 0, 0, 0.6);

  /* Full cycle: 18s total */
  --cycle: 18s;
}

/* ── Base ──────────────────────────────────────────────── */
html { height: 100%; }
body {
  font-family: var(--font);
  background: #080810;
  color: var(--text);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 32px 24px;
  overflow-x: hidden;
}

/* ── iMac Bezel Frame ──────────────────────────────────── */
.imac-frame {
  position: relative;
  width: 960px;
  max-width: 100%;
  background: var(--bg);
  border: var(--bezel) solid #2A2A40;
  border-radius: var(--radius) var(--radius) 0 0;
  overflow: hidden;
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.04),
    0 20px 60px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(255,255,255,0.03);
}

/* ── Chin ──────────────────────────────────────────────── */
.chin {
  height: var(--chin-h);
  background: #1A1A30;
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}
.chin-logo {
  font-size: 1.1rem;
  font-weight: 900;
  letter-spacing: 0.12em;
  color: var(--accent);
}
.chin-sub {
  font-size: 0.55rem;
  color: var(--text-dim);
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

/* ── Top Bar ───────────────────────────────────────────── */
.top-bar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 16px;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  font-size: 0.65rem;
  letter-spacing: 0.04em;
}
.top-bar-back {
  width: 24px; height: 24px;
  display: flex; align-items: center; justify-content: center;
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--text-dim);
  font-size: 0.7rem;
  cursor: default;
}
.top-bar-title {
  font-weight: 700;
  color: var(--text);
  flex: 1;
}
.version-pill {
  padding: 3px 10px;
  border-radius: 3px;
  font-size: 0.6rem;
  font-weight: 700;
  letter-spacing: 0.06em;
  cursor: default;
}
.version-pill.v1 {
  background: rgba(255, 208, 0, 0.08);
  border: 1px solid rgba(255, 208, 0, 0.25);
  color: var(--accent);
}
.version-pill.v2 {
  background: rgba(107, 203, 119, 0.08);
  border: 1px solid rgba(107, 203, 119, 0.25);
  color: #6BCB77;
}

/* ── Legend ─────────────────────────────────────────────── */
.legend {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 8px 16px;
  background: rgba(255, 208, 0, 0.03);
  border-bottom: 1px solid var(--border);
  font-size: 0.55rem;
  color: var(--text-dim);
  letter-spacing: 0.04em;
}
.legend-item {
  display: flex;
  align-items: center;
  gap: 5px;
}
.legend-dot {
  width: 6px; height: 6px;
  border-radius: 50%;
  flex-shrink: 0;
}
.legend-dot.browse { background: var(--accent); opacity: 0.5; }
.legend-dot.spotlight { background: var(--accent); }
.legend-dot.tour { background: #6BCB77; }
.legend-label { white-space: nowrap; }

/* ── Mode Indicator ────────────────────────────────────── */
.mode-indicator {
  position: absolute;
  top: 82px;
  left: 24px;
  z-index: 50;
  padding: 4px 12px;
  border-radius: 3px;
  font-size: 0.6rem;
  font-weight: 900;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  transition: none;
}

/* Mode indicator states via animation */
.mode-indicator {
  animation: mode-label var(--cycle) infinite;
}
@keyframes mode-label {
  /* BROWSE: 0-4s */
  0%      { background: rgba(255,208,0,0.12); color: var(--accent); }
  22.2%   { background: rgba(255,208,0,0.12); color: var(--accent); }
  /* SPOTLIGHT: 4-10s */
  22.21%  { background: rgba(255,208,0,0.25); color: var(--accent); }
  55.5%   { background: rgba(255,208,0,0.25); color: var(--accent); }
  /* TOUR: 10-18s */
  55.51%  { background: rgba(107,203,119,0.2); color: #6BCB77; }
  100%    { background: rgba(107,203,119,0.2); color: #6BCB77; }
}

.mode-text-browse,
.mode-text-spotlight,
.mode-text-tour {
  position: absolute;
  top: 82px;
  left: 24px;
  z-index: 51;
  padding: 4px 12px;
  font-size: 0.6rem;
  font-weight: 900;
  letter-spacing: 0.12em;
  pointer-events: none;
}
.mode-text-browse    { animation: show-browse var(--cycle) infinite; color: var(--accent); }
.mode-text-spotlight { animation: show-spotlight var(--cycle) infinite; color: var(--accent); }
.mode-text-tour      { animation: show-tour var(--cycle) infinite; color: #6BCB77; }

@keyframes show-browse {
  0%      { opacity: 1; }
  22.2%   { opacity: 1; }
  22.21%  { opacity: 0; }
  100%    { opacity: 0; }
}
@keyframes show-spotlight {
  0%      { opacity: 0; }
  22.2%   { opacity: 0; }
  22.21%  { opacity: 1; }
  55.5%   { opacity: 1; }
  55.51%  { opacity: 0; }
  100%    { opacity: 0; }
}
@keyframes show-tour {
  0%      { opacity: 0; }
  55.5%   { opacity: 0; }
  55.51%  { opacity: 1; }
  100%    { opacity: 1; }
}

/* ── Content Area ──────────────────────────────────────── */
.content-area {
  position: relative;
  display: flex;
  min-height: 520px;
}

/* ── Design Canvas (scrollable mock page) ──────────────── */
.design-canvas {
  flex: 1;
  padding: 20px 24px;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 16px;
  position: relative;
}

/* ── Sections ──────────────────────────────────────────── */
.section {
  position: relative;
  border-radius: 6px;
  padding: 24px;
  min-height: 115px;
  background: var(--surface);
  border: 1px solid var(--border);
  transition: box-shadow 0.3s, border-color 0.3s;
}
.section-tag {
  font-size: 0.5rem;
  font-weight: 700;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--text-dim);
  margin-bottom: 10px;
}
.section-heading {
  font-size: 1.1rem;
  font-weight: 900;
  color: var(--text);
  margin-bottom: 8px;
  line-height: 1.3;
}
.section-body {
  font-size: 0.65rem;
  line-height: 1.7;
  color: var(--text-dim);
}
.section-body .hl {
  color: var(--text);
  border-bottom: 2px solid transparent;
  transition: border-color 0.3s;
}

/* Fake UI elements inside sections */
.fake-btn {
  display: inline-block;
  margin-top: 12px;
  padding: 8px 20px;
  background: var(--accent);
  color: var(--bg);
  font-family: var(--font);
  font-size: 0.6rem;
  font-weight: 900;
  letter-spacing: 0.1em;
  border-radius: 3px;
  text-transform: uppercase;
}
.fake-cards {
  display: flex;
  gap: 10px;
  margin-top: 12px;
}
.fake-card {
  flex: 1;
  background: var(--surface-raised);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 12px;
  text-align: center;
}
.fake-card-icon {
  font-size: 1.2rem;
  margin-bottom: 6px;
}
.fake-card-label {
  font-size: 0.55rem;
  font-weight: 700;
  color: var(--text);
  letter-spacing: 0.06em;
}
.fake-pricing {
  display: flex;
  gap: 10px;
  margin-top: 12px;
}
.fake-plan {
  flex: 1;
  background: var(--surface-raised);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: 14px 10px;
  text-align: center;
}
.fake-plan.featured {
  border-color: var(--accent);
  background: rgba(255,208,0,0.04);
}
.fake-plan-name {
  font-size: 0.55rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  color: var(--text-dim);
  text-transform: uppercase;
  margin-bottom: 4px;
}
.fake-plan-price {
  font-size: 1rem;
  font-weight: 900;
  color: var(--text);
}
.fake-plan-price span { font-size: 0.55rem; color: var(--text-dim); }

/* ── Bubble Rail ───────────────────────────────────────── */
.bubble-rail {
  width: 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px 0;
  border-left: 1px solid var(--border);
  background: rgba(0,0,0,0.15);
}
.bubble {
  width: 10px; height: 10px;
  border-radius: 50%;
  border: 1.5px solid var(--text-dim);
  background: transparent;
  transition: all 0.3s;
}
.bubble.active {
  background: var(--accent);
  border-color: var(--accent);
  box-shadow: 0 0 8px rgba(255,208,0,0.4);
}

/* Bubble active state cycles in Tour mode */
.bubble:nth-child(1) { animation: bubble-1 var(--cycle) infinite; }
.bubble:nth-child(2) { animation: bubble-2 var(--cycle) infinite; }
.bubble:nth-child(3) { animation: bubble-3 var(--cycle) infinite; }
.bubble:nth-child(4) { animation: bubble-4 var(--cycle) infinite; }
.bubble:nth-child(5) { animation: bubble-5 var(--cycle) infinite; }

@keyframes bubble-1 {
  0%      { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  22.2%   { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  22.21%  { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  55.5%   { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  55.51%  { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  66.6%   { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  66.61%  { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  100%    { background: transparent; border-color: var(--text-dim); box-shadow: none; }
}
@keyframes bubble-2 {
  0%      { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  66.6%   { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  66.61%  { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  77.7%   { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  77.71%  { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  100%    { background: transparent; border-color: var(--text-dim); box-shadow: none; }
}
@keyframes bubble-3 {
  0%      { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  77.7%   { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  77.71%  { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  88.8%   { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  88.81%  { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  100%    { background: transparent; border-color: var(--text-dim); box-shadow: none; }
}
@keyframes bubble-4 {
  0%      { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  88.8%   { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  88.81%  { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
  100%    { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(255,208,0,0.4); }
}
@keyframes bubble-5 {
  0%      { background: transparent; border-color: var(--text-dim); box-shadow: none; }
  100%    { background: transparent; border-color: var(--text-dim); box-shadow: none; }
}

/* ══════════════════════════════════════════════════════════
   BROWSE MODE — Gold glow on sections (0-4s = 0%-22.2%)
   Sections glow one-by-one: hero(0-1s) feat(1-2s) price(2-3s) cta(3-4s)
   ══════════════════════════════════════════════════════════ */
.section[data-section="hero"]     { animation: browse-hero     var(--cycle) infinite, spotlight-hero     var(--cycle) infinite, tour-hero     var(--cycle) infinite; }
.section[data-section="features"] { animation: browse-features var(--cycle) infinite, spotlight-features var(--cycle) infinite, tour-features var(--cycle) infinite; }
.section[data-section="pricing"]  { animation: browse-pricing  var(--cycle) infinite, spotlight-pricing  var(--cycle) infinite, tour-pricing  var(--cycle) infinite; }
.section[data-section="cta"]      { animation: browse-cta      var(--cycle) infinite, spotlight-cta      var(--cycle) infinite, tour-cta      var(--cycle) infinite; }

/* We cannot stack multiple named animations on box-shadow cleanly,
   so we use a single combined keyframe per section instead. */
.section[data-section="hero"]     { animation: combined-hero     var(--cycle) infinite; }
.section[data-section="features"] { animation: combined-features var(--cycle) infinite; }
.section[data-section="pricing"]  { animation: combined-pricing  var(--cycle) infinite; }
.section[data-section="cta"]      { animation: combined-cta      var(--cycle) infinite; }

/* Combined keyframes per section:
   Browse:    0-22.2% (hero 0-5.5%, features 5.5-11.1%, pricing 11.1-16.6%, cta 16.6-22.2%)
   Spotlight: 22.2-55.5% (hero is the target)
   Tour:      55.5-100% (hero 55.5-66.6%, features 66.6-77.7%, pricing 77.7-88.8%, cta 88.8-100%)
*/

@keyframes combined-hero {
  /* Browse: hero glows 0%-5.5% */
  0%     { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  5.5%   { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  5.51%  { box-shadow: none; border-color: var(--border); }
  /* Spotlight: hero is bright at 22.2%-55.5% */
  22.2%  { box-shadow: none; border-color: var(--border); }
  22.21% { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  55.5%  { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  /* Tour: hero active 55.5%-66.6% */
  55.51% { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  66.6%  { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  66.61% { box-shadow: none; border-color: var(--border); z-index: auto; }
  100%   { box-shadow: none; border-color: var(--border); z-index: auto; }
}

@keyframes combined-features {
  0%      { box-shadow: none; border-color: var(--border); }
  /* Browse: features glows 5.5%-11.1% */
  5.5%   { box-shadow: none; border-color: var(--border); }
  5.51%  { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  11.1%  { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  11.11% { box-shadow: none; border-color: var(--border); }
  /* Tour: features active 66.6%-77.7% */
  66.6%  { box-shadow: none; border-color: var(--border); }
  66.61% { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  77.7%  { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  77.71% { box-shadow: none; border-color: var(--border); z-index: auto; }
  100%   { box-shadow: none; border-color: var(--border); z-index: auto; }
}

@keyframes combined-pricing {
  0%      { box-shadow: none; border-color: var(--border); }
  /* Browse: pricing glows 11.1%-16.6% */
  11.1%  { box-shadow: none; border-color: var(--border); }
  11.11% { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  16.6%  { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  16.61% { box-shadow: none; border-color: var(--border); }
  /* Tour: pricing active 77.7%-88.8% */
  77.7%  { box-shadow: none; border-color: var(--border); }
  77.71% { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  88.8%  { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  88.81% { box-shadow: none; border-color: var(--border); z-index: auto; }
  100%   { box-shadow: none; border-color: var(--border); z-index: auto; }
}

@keyframes combined-cta {
  0%      { box-shadow: none; border-color: var(--border); }
  /* Browse: cta glows 16.6%-22.2% */
  16.6%  { box-shadow: none; border-color: var(--border); }
  16.61% { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  22.2%  { box-shadow: 0 0 0 2px var(--accent); border-color: rgba(255,208,0,0.3); }
  22.21% { box-shadow: none; border-color: var(--border); }
  /* Tour: cta active 88.8%-100% */
  88.8%  { box-shadow: none; border-color: var(--border); }
  88.81% { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
  100%   { box-shadow: 0 0 20px rgba(255,208,0,0.15); border-color: rgba(255,208,0,0.4); z-index: 20; }
}

/* ── Browse: highlighted text underlines per section ───── */
.section[data-section="hero"]     .hl { animation: hl-hero     var(--cycle) infinite; }
.section[data-section="features"] .hl { animation: hl-features var(--cycle) infinite; }
.section[data-section="pricing"]  .hl { animation: hl-pricing  var(--cycle) infinite; }
.section[data-section="cta"]      .hl { animation: hl-cta      var(--cycle) infinite; }

@keyframes hl-hero {
  0%     { border-bottom-color: var(--accent); color: var(--text); }
  5.5%   { border-bottom-color: var(--accent); color: var(--text); }
  5.51%  { border-bottom-color: transparent; }
  /* Also underline during spotlight + tour hero */
  22.21% { border-bottom-color: var(--accent); color: var(--text); }
  66.6%  { border-bottom-color: var(--accent); color: var(--text); }
  66.61% { border-bottom-color: transparent; }
  100%   { border-bottom-color: transparent; }
}
@keyframes hl-features {
  0%      { border-bottom-color: transparent; }
  5.51%  { border-bottom-color: var(--accent); color: var(--text); }
  11.1%  { border-bottom-color: var(--accent); color: var(--text); }
  11.11% { border-bottom-color: transparent; }
  66.61% { border-bottom-color: var(--accent); color: var(--text); }
  77.7%  { border-bottom-color: var(--accent); color: var(--text); }
  77.71% { border-bottom-color: transparent; }
  100%   { border-bottom-color: transparent; }
}
@keyframes hl-pricing {
  0%      { border-bottom-color: transparent; }
  11.11% { border-bottom-color: var(--accent); color: var(--text); }
  16.6%  { border-bottom-color: var(--accent); color: var(--text); }
  16.61% { border-bottom-color: transparent; }
  77.71% { border-bottom-color: var(--accent); color: var(--text); }
  88.8%  { border-bottom-color: var(--accent); color: var(--text); }
  88.81% { border-bottom-color: transparent; }
  100%   { border-bottom-color: transparent; }
}
@keyframes hl-cta {
  0%      { border-bottom-color: transparent; }
  16.61% { border-bottom-color: var(--accent); color: var(--text); }
  22.2%  { border-bottom-color: var(--accent); color: var(--text); }
  22.21% { border-bottom-color: transparent; }
  88.81% { border-bottom-color: var(--accent); color: var(--text); }
  100%   { border-bottom-color: var(--accent); color: var(--text); }
}

/* ══════════════════════════════════════════════════════════
   SPOTLIGHT + TOUR — SVG dim overlay (22.2%-100%)
   ══════════════════════════════════════════════════════════ */
.dim-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  z-index: 15;
  pointer-events: none;
  animation: dim-visibility var(--cycle) infinite;
}
@keyframes dim-visibility {
  0%      { opacity: 0; }
  22.2%   { opacity: 0; }
  22.21%  { opacity: 1; }
  100%    { opacity: 1; }
}

.dim-overlay svg {
  width: 100%;
  height: 100%;
}

/* The mask cutout rect moves to track the active section.
   We use CSS to animate the y position of the SVG rect via a wrapping approach.
   Since CSS can't animate SVG attributes directly across all browsers,
   we use multiple overlay rects and toggle visibility. */

/* ── Annotation Label (Spotlight mode) ─────────────────── */
.annotation-label {
  position: absolute;
  z-index: 25;
  padding: 5px 14px;
  background: var(--accent);
  color: var(--bg);
  font-size: 0.55rem;
  font-weight: 900;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  border-radius: 3px;
  white-space: nowrap;
  pointer-events: none;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}
.annotation-label::after {
  content: '';
  position: absolute;
  bottom: -5px;
  left: 20px;
  width: 10px; height: 10px;
  background: var(--accent);
  transform: rotate(45deg);
}

.annotation-spotlight {
  /* Positioned above hero section */
  top: 44px;
  left: 40px;
  animation: annotation-spotlight-vis var(--cycle) infinite;
}
@keyframes annotation-spotlight-vis {
  0%      { opacity: 0; transform: translateY(4px); }
  22.2%   { opacity: 0; transform: translateY(4px); }
  23%     { opacity: 1; transform: translateY(0); }
  55.5%   { opacity: 1; transform: translateY(0); }
  55.51%  { opacity: 0; transform: translateY(4px); }
  100%    { opacity: 0; transform: translateY(4px); }
}

/* ── Tour Popovers ─────────────────────────────────────── */
.tour-popover {
  position: absolute;
  z-index: 25;
  width: 220px;
  background: var(--surface-raised);
  border: 1px solid var(--accent);
  border-radius: 6px;
  padding: 14px;
  pointer-events: none;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,208,0,0.1);
}
.tour-popover::before {
  content: '';
  position: absolute;
  left: -7px;
  top: 18px;
  width: 12px; height: 12px;
  background: var(--surface-raised);
  border-left: 1px solid var(--accent);
  border-bottom: 1px solid var(--accent);
  transform: rotate(45deg);
}
.tour-popover-title {
  font-size: 0.6rem;
  font-weight: 900;
  color: var(--accent);
  letter-spacing: 0.06em;
  margin-bottom: 6px;
}
.tour-popover-body {
  font-size: 0.55rem;
  line-height: 1.6;
  color: var(--text-dim);
  margin-bottom: 10px;
}
.tour-popover-footer {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.tour-popover-step {
  font-size: 0.5rem;
  font-weight: 700;
  color: var(--text-dim);
  letter-spacing: 0.08em;
}
.tour-popover-progress {
  display: flex;
  gap: 3px;
}
.tour-popover-progress span {
  width: 16px; height: 3px;
  border-radius: 1.5px;
  background: var(--border);
}
.tour-popover-progress span.done {
  background: var(--accent);
}

/* Tour popover visibility per step
   hero: 55.5-66.6%, features: 66.6-77.7%, pricing: 77.7-88.8%, cta: 88.8-100%
*/
.tour-popover { opacity: 0; transform: translateX(-4px); }

.tour-popover.step-1 { animation: tour-pop-1 var(--cycle) infinite; right: 56px; top: 68px; }
.tour-popover.step-2 { animation: tour-pop-2 var(--cycle) infinite; right: 56px; top: 210px; }
.tour-popover.step-3 { animation: tour-pop-3 var(--cycle) infinite; right: 56px; top: 350px; }
.tour-popover.step-4 { animation: tour-pop-4 var(--cycle) infinite; right: 56px; top: 465px; }

/* Flip arrow to point right for popovers on right side */
.tour-popover.step-1::before,
.tour-popover.step-2::before,
.tour-popover.step-3::before,
.tour-popover.step-4::before {
  left: auto;
  right: -7px;
  border-left: none;
  border-bottom: none;
  border-right: 1px solid var(--accent);
  border-top: 1px solid var(--accent);
}

/* Position popovers on the left side instead for better visibility */
.tour-popover.step-1 { right: auto; left: 34px; top: 52px; }
.tour-popover.step-2 { right: auto; left: 34px; top: 195px; }
.tour-popover.step-3 { right: auto; left: 34px; top: 338px; }
.tour-popover.step-4 { right: auto; left: 34px; top: 458px; }

/* Restore left-pointing arrow */
.tour-popover.step-1::before,
.tour-popover.step-2::before,
.tour-popover.step-3::before,
.tour-popover.step-4::before {
  left: -7px;
  right: auto;
  border-right: none;
  border-top: none;
  border-left: 1px solid var(--accent);
  border-bottom: 1px solid var(--accent);
}

@keyframes tour-pop-1 {
  0%      { opacity: 0; transform: translateX(-4px); }
  55.5%   { opacity: 0; transform: translateX(-4px); }
  56.5%   { opacity: 1; transform: translateX(0); }
  66.6%   { opacity: 1; transform: translateX(0); }
  67%     { opacity: 0; transform: translateX(-4px); }
  100%    { opacity: 0; transform: translateX(-4px); }
}
@keyframes tour-pop-2 {
  0%      { opacity: 0; transform: translateX(-4px); }
  66.6%   { opacity: 0; transform: translateX(-4px); }
  67.6%   { opacity: 1; transform: translateX(0); }
  77.7%   { opacity: 1; transform: translateX(0); }
  78%     { opacity: 0; transform: translateX(-4px); }
  100%    { opacity: 0; transform: translateX(-4px); }
}
@keyframes tour-pop-3 {
  0%      { opacity: 0; transform: translateX(-4px); }
  77.7%   { opacity: 0; transform: translateX(-4px); }
  78.7%   { opacity: 1; transform: translateX(0); }
  88.8%   { opacity: 1; transform: translateX(0); }
  89%     { opacity: 0; transform: translateX(-4px); }
  100%    { opacity: 0; transform: translateX(-4px); }
}
@keyframes tour-pop-4 {
  0%      { opacity: 0; transform: translateX(-4px); }
  88.8%   { opacity: 0; transform: translateX(-4px); }
  89.8%   { opacity: 1; transform: translateX(0); }
  99%     { opacity: 1; transform: translateX(0); }
  100%    { opacity: 0; transform: translateX(-4px); }
}

/* ══════════════════════════════════════════════════════════
   DIM OVERLAY — implemented with JS-driven SVG for proper
   mask cutout (CSS alone cannot do SVG mask animation well)
   We use 5 overlay states controlled via CSS animation on
   a container that toggles which rect-based mask is shown.

   Approach: Use CSS clip-path with inset() on a dark overlay div.
   ══════════════════════════════════════════════════════════ */

/* Dark layer that gets clipped */
.dim-dark {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 15;
  pointer-events: none;
}

/* Four separate dark layers, each with inset clip for its section.
   They become visible during their respective phases. */
.dim-dark { display: none; }

.dim-hero,
.dim-features,
.dim-pricing,
.dim-cta {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  z-index: 15;
  pointer-events: none;
  opacity: 0;
}

/* We need a JS-free approach. Using multiple overlay pieces (top/bottom/left/right)
   around the active section is complex. Instead, let's use a simpler visual approach:
   background overlay on the content area with sections popping above via z-index. */

.content-overlay {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 10;
  pointer-events: none;
  animation: overlay-vis var(--cycle) infinite;
}

@keyframes overlay-vis {
  0%      { opacity: 0; }
  22.2%   { opacity: 0; }
  23%     { opacity: 1; }
  99%     { opacity: 1; }
  100%    { opacity: 0; }
}

/* Active sections pop above the overlay */
.section {
  position: relative;
  z-index: 1;
}

/* During spotlight (22.2-55.5%), hero pops above */
.section[data-section="hero"] {
  animation: combined-hero var(--cycle) infinite, z-hero var(--cycle) infinite;
}
.section[data-section="features"] {
  animation: combined-features var(--cycle) infinite, z-features var(--cycle) infinite;
}
.section[data-section="pricing"] {
  animation: combined-pricing var(--cycle) infinite, z-pricing var(--cycle) infinite;
}
.section[data-section="cta"] {
  animation: combined-cta var(--cycle) infinite, z-cta var(--cycle) infinite;
}

@keyframes z-hero {
  0%      { z-index: 1; }
  22.2%   { z-index: 1; }
  22.21%  { z-index: 20; }
  66.6%   { z-index: 20; }
  66.61%  { z-index: 1; }
  100%    { z-index: 1; }
}
@keyframes z-features {
  0%      { z-index: 1; }
  66.6%   { z-index: 1; }
  66.61%  { z-index: 20; }
  77.7%   { z-index: 20; }
  77.71%  { z-index: 1; }
  100%    { z-index: 1; }
}
@keyframes z-pricing {
  0%      { z-index: 1; }
  77.7%   { z-index: 1; }
  77.71%  { z-index: 20; }
  88.8%   { z-index: 20; }
  88.81%  { z-index: 1; }
  100%    { z-index: 1; }
}
@keyframes z-cta {
  0%      { z-index: 1; }
  88.8%   { z-index: 1; }
  88.81%  { z-index: 20; }
  100%    { z-index: 20; }
}

/* ── Tour popover z-index ──────────────────────────────── */
.tour-popover {
  z-index: 25;
}

/* ── Responsive ────────────────────────────────────────── */
@media (max-width: 700px) {
  body { padding: 16px 8px; }
  .imac-frame { border-width: 4px; }
  .tour-popover { width: 160px; font-size: 0.5rem; }
}
</style>
</head>
<body>

<div class="imac-frame">
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="top-bar-back">&larr;</div>
    <div class="top-bar-title">Example SaaS Landing</div>
    <div class="version-pill v1">v1 &middot; 5.2</div>
    <div class="version-pill v2">v2 &middot; 6.8</div>
  </div>

  <!-- Legend -->
  <div class="legend">
    <span style="font-weight:700; color: var(--text); margin-right: 4px;">HL-A CLASSIC:</span>
    <div class="legend-item">
      <div class="legend-dot browse"></div>
      <span class="legend-label">Browse (hover glow)</span>
    </div>
    <div class="legend-item">
      <div class="legend-dot spotlight"></div>
      <span class="legend-label">Spotlight (click dims page)</span>
    </div>
    <div class="legend-item">
      <div class="legend-dot tour"></div>
      <span class="legend-label">Tour (sequential steps)</span>
    </div>
    <span style="margin-left: auto; font-style: italic; opacity: 0.6;">18s cycle, auto-loops</span>
  </div>

  <!-- Content Area -->
  <div class="content-area">
    <!-- Mode Indicator -->
    <div class="mode-indicator">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
    <div class="mode-text-browse">BROWSE</div>
    <div class="mode-text-spotlight">SPOTLIGHT</div>
    <div class="mode-text-tour">TOUR</div>

    <!-- Dark overlay for spotlight/tour -->
    <div class="content-overlay"></div>

    <!-- Design Canvas -->
    <div class="design-canvas">

      <!-- HERO Section -->
      <div class="section" data-section="hero">
        <div class="section-tag">// HERO</div>
        <div class="section-heading">Ship Faster.<br>Review Smarter.</div>
        <div class="section-body">
          <span class="hl">Automated design reviews</span> that catch issues before
          your users do. Pixel-perfect QA powered by AI that understands
          <span class="hl">visual hierarchy and spacing</span>.
        </div>
        <div class="fake-btn">Start Free Trial</div>
      </div>

      <!-- Spotlight Annotation (for spotlight mode) -->
      <div class="annotation-label annotation-spotlight">
        Finding: Hero CTA contrast is 3.8:1 &mdash; below WCAG AA
      </div>

      <!-- FEATURES Section -->
      <div class="section" data-section="features">
        <div class="section-tag">// FEATURES</div>
        <div class="section-heading">Everything You Need</div>
        <div class="section-body">
          <span class="hl">Three core modules</span> designed to streamline your workflow
          from design handoff to production.
        </div>
        <div class="fake-cards">
          <div class="fake-card">
            <div class="fake-card-icon">&#9881;</div>
            <div class="fake-card-label">Auto Review</div>
          </div>
          <div class="fake-card">
            <div class="fake-card-icon">&#9733;</div>
            <div class="fake-card-label">Score Cards</div>
          </div>
          <div class="fake-card">
            <div class="fake-card-icon">&#9889;</div>
            <div class="fake-card-label">Live Sync</div>
          </div>
        </div>
      </div>

      <!-- PRICING Section -->
      <div class="section" data-section="pricing">
        <div class="section-tag">// PRICING</div>
        <div class="section-heading">Simple, Transparent Pricing</div>
        <div class="section-body">
          No hidden fees. <span class="hl">Cancel anytime</span>. Scale as you grow.
        </div>
        <div class="fake-pricing">
          <div class="fake-plan">
            <div class="fake-plan-name">Starter</div>
            <div class="fake-plan-price">$0 <span>/mo</span></div>
          </div>
          <div class="fake-plan featured">
            <div class="fake-plan-name">Pro</div>
            <div class="fake-plan-price">$29 <span>/mo</span></div>
          </div>
          <div class="fake-plan">
            <div class="fake-plan-name">Team</div>
            <div class="fake-plan-price">$79 <span>/mo</span></div>
          </div>
        </div>
      </div>

      <!-- CTA Section -->
      <div class="section" data-section="cta">
        <div class="section-tag">// CTA</div>
        <div class="section-heading">Ready to Ship Better?</div>
        <div class="section-body">
          Join 2,400+ teams using SLAP to <span class="hl">catch design regressions</span>
          before they reach production. <span class="hl">Free for open-source projects</span>.
        </div>
        <div class="fake-btn">Get Started &mdash; It's Free</div>
      </div>
    </div>

    <!-- Bubble Rail -->
    <div class="bubble-rail">
      <div class="bubble active"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
      <div class="bubble"></div>
    </div>

    <!-- Tour Popovers (positioned absolutely in content-area) -->
    <div class="tour-popover step-1">
      <div class="tour-popover-title">Hero Section</div>
      <div class="tour-popover-body">CTA button contrast ratio is 3.8:1. Recommend increasing to 4.5:1 for WCAG AA compliance.</div>
      <div class="tour-popover-footer">
        <div class="tour-popover-step">Step 1 of 4</div>
        <div class="tour-popover-progress">
          <span class="done"></span><span></span><span></span><span></span>
        </div>
      </div>
    </div>

    <div class="tour-popover step-2">
      <div class="tour-popover-title">Features Section</div>
      <div class="tour-popover-body">Card spacing is inconsistent: 16px / 12px / 16px. Normalize to 16px gap for visual rhythm.</div>
      <div class="tour-popover-footer">
        <div class="tour-popover-step">Step 2 of 4</div>
        <div class="tour-popover-progress">
          <span class="done"></span><span class="done"></span><span></span><span></span>
        </div>
      </div>
    </div>

    <div class="tour-popover step-3">
      <div class="tour-popover-title">Pricing Section</div>
      <div class="tour-popover-body">Featured plan border draws attention but price text is same weight as others. Consider bold or size bump.</div>
      <div class="tour-popover-footer">
        <div class="tour-popover-step">Step 3 of 4</div>
        <div class="tour-popover-progress">
          <span class="done"></span><span class="done"></span><span class="done"></span><span></span>
        </div>
      </div>
    </div>

    <div class="tour-popover step-4">
      <div class="tour-popover-title">CTA Section</div>
      <div class="tour-popover-body">Redundant CTA copy. "Get Started" repeats hero. Suggest differentiated messaging for conversion lift.</div>
      <div class="tour-popover-footer">
        <div class="tour-popover-step">Step 4 of 4</div>
        <div class="tour-popover-progress">
          <span class="done"></span><span class="done"></span><span class="done"></span><span class="done"></span>
        </div>
      </div>
    </div>

  </div>

  <!-- Chin -->
  <div class="chin">
    <span class="chin-logo">SLAP!</span>
    <span class="chin-sub">Variation A &mdash; Classic Review</span>
  </div>
</div>

</body>
</html>